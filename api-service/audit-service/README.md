# 审查模块

## 功能
可以实现将相关审核消息保存到数据库中，然后通过gpt进行初步审核，

利用消息队列，先将要审核的发送到队列，然后从队列里面取出，（可以先发送到gpt做初步审核），然后再到人工审核，人工审核如果通过了，那么就在对应服务创建对应表

可能会实现（接口定时发布）

## 技术
1. 消息队列
2. seata分布式事务管理

## 流程
1. 从消息队列中取出要审核的数据（也可以不用）
2. 通过rpc调用gpt做初步审核
3. 初步审核后，将对应的审核信息保存到数据库中（这里gpt如果没有审核通过也不会直接返回给客户，gpt审核只是为了可以给后面人工审核提供一个参考）
4. 人工审核可以审核gpt初审后的，也可以直接审核gpt没有审核的
5. 如果人工审核没通过，那么直接更新对应数据库的状态和审核表述
6. 如果人工审核通过，那么直接更新对应数据库的表数据，然后发送给对应的服务去创建对应的数据库表
7. 对应服务创建好后，将id返回给审核模块去更新对应的id字段（为了后面重新审核好维护）
8. (多个服务之间，需要加事务)